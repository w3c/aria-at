<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Checkbox Example (Mixed-State)</title>

    <link href="css/checkbox-mixed.css" rel="stylesheet">
    <script src="js/checkbox-mixed.js" type="text/javascript"></script>

  <!-- Generated by process-test-directory.js -->
  <script>
    (function() {
      function setupScript(testPageDocument) {
        // moveFocusToAndUncheckFirstCheckbox
        // sets focus on the first checkbox and sets its state to unchecked
        const checkbox = testPageDocument.querySelector('[role="checkbox"]');
        checkbox.setAttribute('aria-checked', 'false');
        checkbox.focus();

      };
      document.addEventListener('click', function(event) {
        if (event.target.classList.contains('button-run-test-setup')) {
          event.target.disabled = true;
          setupScript(document);
        }
      });
    })();
  </script>
  <!-- End of generated output --></head>
  <body>
    <main>
      <h1>Checkbox Example (Mixed-State)</h1>
      <p>
        This example demonstrates using the  <a href="https://w3c.github.io/aria-practices/#checkbox">Checkbox Design Pattern</a> to create a tri-state, or mixed-state, checkbox.
        In this implementation, the mixed-state checkbox represents the state of a set of standard HTML checkboxes.
        If none of the checkboxes in the set are checked, the mixed state checkbox is not checked, and if all members of the set are checked, the mixed state checkbox is checked.
        If the set contains both some checked and unchecked checkboxes, the mixed state checkbox is partially checked.
        Activating the tri-state checkbox changes the states of the checkboxes in the set.
      </p>
      <section>
        <div class="example-header">
          <h2 id="ex_label">Example</h2>
        </div>
        <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
        <a id="beforelink" href="#beforelink">Navigate forwards from here</a>
        <div  id="ex1">
            <fieldset class="checkbox-mixed">
              <legend>Sandwich Condiments</legend>
                  <div
                      role="checkbox"
                      class="group_checkbox"
                      aria-checked="mixed"
                      aria-controls="cond1 cond2 cond3 cond4"
                      tabindex="0"
                  >
                    All condiments
                </div>
                <ul class="checkboxes" style="display: none">
                  <li><label><input type="checkbox" id="cond1">Lettuce</label></li>
                  <li><label><input type="checkbox" id="cond2" checked>Tomato</label></li>
                  <li><label><input type="checkbox" id="cond3">Mustard</label></li>
                  <li><label><input type="checkbox" id="cond4">Sprouts</label></li>
                </ul>
          </fieldset>
        </div>
        <a id="afterlink" href="#afterlink">Navigate backwards from here</a>
        <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
      </section>

<!-- Generated by process-test-directory.js -->
<div style="position: relative; left: 0; right: 0; height: 2rem;">
  <button class="button-run-test-setup" autofocus style="height: 100%; width: 100%;">Run Test Setup</button>
</div>
<!-- End of generated output --></body>
</html>
