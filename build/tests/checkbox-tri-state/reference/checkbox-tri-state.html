<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Tri-State Checkbox Example</title>

    <!-- Core css shared by all examples -->
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">

    <!-- css and JS used by this example -->
    <link href="css/checkbox.css" rel="stylesheet">
    <script src="js/controlledCheckbox.js" type="text/javascript"></script>
    <script src="js/checkboxMixed.js" type="text/javascript"></script>

  <!-- Generated by create-example-tests.js -->
  <script>
    (function() {
      function setupScript(testPageDocument) {
        //

      };
      document.addEventListener('click', function(event) {
        if (event.target.classList.contains('button-run-test-setup')) {
          event.target.disabled = true;
          setupScript(document);
        }
      });
    })();
  </script>
  <!-- End of generated output --></head>
  <body>
    <main>
      <h1>Tri-State Checkbox Example</h1>
      <p>
        This example demonstrates using the  <a href="https://w3c.github.io/aria-practices/#checkbox">Checkbox Design Pattern</a> to create a tri-state, or mixed-state, checkbox.
        In this implementation, the mixed-state checkbox represents the state of a set of standard HTML checkboxes.
        If none of the checkboxes in the set are checked, the mixed state checkbox is not checked, and if all members of the set are checked, the mixed state checkbox is checked.
        If the set contains both some checked and unchecked checkboxes, the mixed state checkbox is partially checked.
        Activating the tri-state checkbox changes the states of the checkboxes in the set.
      </p>
      <p>
        This example also demonstrates use of <code>fieldset</code> and <code>Legend</code> elements for labeling the checkbox group.
      </p>
      <section>
        <div class="example-header">
          <h2 id="ex_label" tabindex="-1">Example</h2>
        </div>
        <div role="separator" id="ex_start_sep" aria-labelledby="ex_start_sep ex_label" aria-label="Start of"></div>
        <a id="beforelink" href="#beforelink">Navigate forwards from here</a>
        <div  id="ex1">
           <fieldset>
              <legend>Sandwich Condiments</legend>
                  <div
                      role="checkbox"
                      class="group_checkbox"
                      aria-checked="mixed"
                      aria-controls="cond1 cond2 cond3 cond4"
                      tabindex="0"
                  >
                    All condiments
                </div>
                <a id="afterlink" href="#afterlink">Navigate backwards from here</a>
                <ul class="checkboxes">
                  <li><label><input type="checkbox" id="cond1">Lettuce</label></li>
                  <li><label><input type="checkbox" id="cond2" checked>Tomato</label></li>
                  <li><label><input type="checkbox" id="cond3">Mustard</label></li>
                  <li><label><input type="checkbox" id="cond4">Sprouts</label></li>
                </ul>
          </fieldset>
          <script type="text/javascript">
            function checkboxFocus (event) {
              event.currentTarget.parentNode.classList.add('focus');
            };
            function checkboxBlur (event) {
              event.currentTarget.parentNode.classList.remove('focus');
            };
            window.onload = function () {
              var i;
              var mixed = document.querySelectorAll('[role="checkbox"]');
              for (i = 0; i < mixed.length; i++) {
                var m = new CheckboxMixed(mixed[i]);
                m.init();
              }
              var checkboxes = document.querySelectorAll('input[type="checkbox"]');
              for (i = 0; i < checkboxes.length; i++) {
                var cb = checkboxes[i];
                cb.addEventListener('focus', checkboxFocus);
                cb.addEventListener('blur', checkboxBlur);
              }
            };
          </script>
        </div>
        <div role="separator" id="ex_end_sep" aria-labelledby="ex_end_sep ex_label" aria-label="End of"></div>
      </section>

    <!-- Generated by create-example-tests.js -->
    <div style="position: relative; left: 0; right: 0; height: 2rem;">
      <button class="button-run-test-setup" autofocus style="height: 100%; width: 100%;" disabled>Run Test Setup</button>
    </div>
    <!-- End of generated output --></main>
  </body>
</html>