{
  "info": {
    "testId": "openNestedModalDialog",
    "title": "Open a nested modal dialog ",
    "references": [
      {
        "refId": "example",
        "type": "metadata",
        "value": "https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/examples/dialog/",
        "linkText": "APG Example: Modal Dialog"
      }
    ],
    "presentationNumber": 20
  },
  "target": {
    "ats": [
      {
        "key": "jaws",
        "settings": "virtualCursor",
        "name": "JAWS"
      },
      {
        "key": "jaws",
        "settings": "pcCursor",
        "name": "JAWS"
      },
      {
        "key": "nvda",
        "settings": "browseMode",
        "name": "NVDA"
      },
      {
        "key": "nvda",
        "settings": "focusMode",
        "name": "NVDA"
      },
      {
        "key": "voiceover_macos",
        "settings": "defaultMode",
        "name": "VoiceOver for macOS"
      }
    ],
    "at": {
      "key": "voiceover_macos",
      "settings": "defaultMode",
      "name": "VoiceOver for macOS",
      "raw": {
        "name": "VoiceOver for macOS",
        "key": "voiceover_macos",
        "defaultConfigurationInstructionsHTML": "Configure VoiceOver with default settings. For help, read &lt;a href=&quot;https://github.com/w3c/aria-at/wiki/Configuring-Screen-Readers-for-Testing&quot;&gt;Configuring Screen Readers for Testing&lt;/a&gt;.",
        "assertionTokens": {
          "screenReader": "VoiceOver",
          "readingCursor": "VoiceOver cursor"
        },
        "settings": {
          "quickNavOn": {
            "screenText": "quick nav on",
            "instructions": [
              "Simultaneously press &lt;kbd&gt;Left Arrow&lt;/kbd&gt; and &lt;kbd&gt;Right Arrow&lt;/kbd&gt;.",
              "If VoiceOver said 'quick nav off', press &lt;kbd&gt;Left Arrow&lt;/kbd&gt; and &lt;kbd&gt;Right Arrow&lt;/kbd&gt; again to turn it back on."
            ]
          },
          "quickNavOff": {
            "screenText": "quick nav off",
            "instructions": [
              "Simultaneously press &lt;kbd&gt;Left Arrow&lt;/kbd&gt; and &lt;kbd&gt;Right Arrow&lt;/kbd&gt;.",
              "If VoiceOver said 'quick nav on', press &lt;kbd&gt;Left Arrow&lt;/kbd&gt; and &lt;kbd&gt;Right Arrow&lt;/kbd&gt; again to turn it back off."
            ]
          },
          "arrowQuickKeyNavOn": {
            "screenText": "arrow quick key nav on",
            "instructions": [
              "Simultaneously press &lt;kbd&gt;Left Arrow&lt;/kbd&gt; and &lt;kbd&gt;Right Arrow&lt;/kbd&gt;.",
              "If VoiceOver said 'arrow quick key nav off', press &lt;kbd&gt;Left Arrow&lt;/kbd&gt; and &lt;kbd&gt;Right Arrow&lt;/kbd&gt; again to turn it back on."
            ]
          },
          "arrowQuickKeyNavOff": {
            "screenText": "arrow quick key nav off",
            "instructions": [
              "Simultaneously press &lt;kbd&gt;Left Arrow&lt;/kbd&gt; and &lt;kbd&gt;Right Arrow&lt;/kbd&gt;.",
              "If VoiceOver said 'arrow quick key nav on', press &lt;kbd&gt;Left Arrow&lt;/kbd&gt; and &lt;kbd&gt;Right Arrow&lt;/kbd&gt; again to turn it back off."
            ]
          },
          "singleQuickKeyNavOn": {
            "screenText": "single quick key nav on",
            "instructions": [
              "Press &lt;kbd&gt;Control&lt;/kbd&gt;+&lt;kbd&gt;Option&lt;/kbd&gt;+&lt;kbd&gt;q&lt;/kbd&gt;.",
              "If VoiceOver said 'single quick key nav off', press &lt;kbd&gt;Control&lt;/kbd&gt;+&lt;kbd&gt;Option&lt;/kbd&gt;+&lt;kbd&gt;q&lt;/kbd&gt; again to turn it back on."
            ]
          },
          "singleQuickKeyNavOff": {
            "screenText": "single quick key nav off",
            "instructions": [
              "Press &lt;kbd&gt;Control&lt;/kbd&gt;+&lt;kbd&gt;Option&lt;/kbd&gt;+&lt;kbd&gt;q&lt;/kbd&gt;.",
              "If VoiceOver said 'single quick key nav on', press &lt;kbd&gt;Control&lt;/kbd&gt;+&lt;kbd&gt;Option&lt;/kbd&gt;+&lt;kbd&gt;q&lt;/kbd&gt; again to turn it back off."
            ]
          }
        }
      }
    },
    "referencePage": "reference/2022-4-7_15544/dialog.openAddDeliveryAddressDialogAndFocusAddButton.html",
    "setupScript": {
      "script": "openAddDeliveryAddressDialogAndFocusAddButton",
      "scriptDescription": "opens the 'Add Delivery Address' modal dialog, and sets focus on the 'Add' button",
      "name": "openAddDeliveryAddressDialogAndFocusAddButton",
      "source": "// opens the 'Add Delivery Address' modal dialog, and sets focus on the 'Add' button\nconst btn = testPageDocument.querySelector('#ex1 > button');\ntestPageDocument.defaultView.openDialog('dialog1', btn, 'dialog1_add');\n",
      "modulePath": "scripts/openAddDeliveryAddressDialogAndFocusAddButton.module.js",
      "jsonpPath": "scripts/openAddDeliveryAddressDialogAndFocusAddButton.jsonp.js"
    }
  },
  "instructions": {
    "instructions": "Starting at the 'Add' button inside the dialog, activate it to open the nested 'Address Added' dialog.",
    "mode": {
      "defaultMode": [
        "Configure VoiceOver with default settings. For help, read &lt;a href=&quot;https://github.com/w3c/aria-at/wiki/Configuring-Screen-Readers-for-Testing&quot;&gt;Configuring Screen Readers for Testing&lt;/a&gt;."
      ]
    }
  },
  "commands": [
    {
      "id": "ctrl+opt+space",
      "keypresses": [
        {
          "id": "ctrl+opt+space",
          "keystroke": "Control+Option+Space"
        }
      ],
      "assertionExceptions": [],
      "keystroke": "Control+Option+Space",
      "presentationNumber": 20,
      "settings": "defaultMode"
    },
    {
      "id": "space",
      "keypresses": [
        {
          "id": "space",
          "keystroke": "Space"
        }
      ],
      "assertionExceptions": [],
      "keystroke": "Space",
      "presentationNumber": 20.1,
      "settings": "defaultMode"
    },
    {
      "id": "enter",
      "keypresses": [
        {
          "id": "enter",
          "keystroke": "Enter"
        }
      ],
      "assertionExceptions": [],
      "keystroke": "Enter",
      "presentationNumber": 20.2,
      "settings": "defaultMode"
    }
  ],
  "assertions": [
    {
      "assertionId": "roleDialog",
      "priority": 1,
      "assertionStatement": "Role 'dialog' is conveyed",
      "assertionPhrase": "convey role 'dialog'",
      "refIds": "",
      "tokenizedAssertionStatements": {},
      "tokenizedAssertionPhrases": {}
    },
    {
      "assertionId": "nameAddressAdded",
      "priority": 1,
      "assertionStatement": "Name 'Address Added' is conveyed",
      "assertionPhrase": "convey name 'Address Added'",
      "refIds": "",
      "tokenizedAssertionStatements": {},
      "tokenizedAssertionPhrases": {}
    },
    {
      "assertionId": "dialogDescriptionAsTheAddressYouProvidedHasBeenAddedToYourListDeliveryAddressesItIsReadyForImmediateUseIfYouWishToRemoveItYouCanDoSoFromYourProfile",
      "priority": 1,
      "assertionStatement": "Dialog description is conveyed as: 'The address you provided has been added to your list of delivery addresses. It is ready for immediate use. If you wish to remove it, you can do so from your profile.",
      "assertionPhrase": "convey dialog description as: 'The address you provided has been added to your list of delivery addresses. It is ready for immediate use. If you wish to remove it, you can do so from your profile.",
      "refIds": "",
      "tokenizedAssertionStatements": {},
      "tokenizedAssertionPhrases": {}
    },
    {
      "assertionId": "roleFocusedElementButton",
      "priority": 1,
      "assertionStatement": "Role of the focused element ('button') is conveyed",
      "assertionPhrase": "convey role of the focused element ('button')",
      "refIds": "",
      "tokenizedAssertionStatements": {},
      "tokenizedAssertionPhrases": {}
    },
    {
      "assertionId": "nameFocusedElementOk",
      "priority": 1,
      "assertionStatement": "Name of the focused element ('OK') is conveyed",
      "assertionPhrase": "convey name of the focused element ('OK')",
      "refIds": "",
      "tokenizedAssertionStatements": {},
      "tokenizedAssertionPhrases": {}
    }
  ]
}