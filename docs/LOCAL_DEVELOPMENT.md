## Local Development

### Getting Started
1. Install the dependencies.
   ```
   npm install
   ```
1. Review test contributions as detailed by the ["How to contribute tests" Wiki Page](https://github.com/w3c/aria-at/wiki/How-to-contribute-tests).
1. Create a branch dedicated to the upcoming contributions.
   ```
   git checkout -b <contribution_branch_name>
   ```
1. Commit and push your changes.
   ```
   git commit add <files>
   git commit -m <message>
   git push -u <remote> <contribution_branch_name>
   ```
1. Create a Pull Request with the changes from your branch with relevant details associated with it. Ensure the base branch is `master`. GitHub Actions should then generate review pages and append a 'Preview Link' to your Pull Request's description, so it may be properly reviewed.
1. **NOTE: If any changes were committed to `master` after branching off to a contribution branch, be sure to merge those changes back into your branch before submitting your Pull Request for review.**

### Local Development

Scripts and commands available to help with your workflow.

#### `npm run create-all-tests`
Generate tests' html and json files as determined by using the files in `/tests/<test_plan_module>/`. The output is written to `/build/tests/<test_plan_module>/`.

#### `npm run review-tests`
Generate review pages based on the previously generated tests' html and json files. Used to navigate the tests. The output is written to `/build/index.html` and `/build/tests/review/`

#### `npm run build`
Creates or updates the `/build` folder. Runs `npm run create-all-tests` and `npm run review-tests`.

#### `npm run build <test_plan_module>`
Creates or updates the `/build` folder for a specific test plan. Runs `npm run create-all-tests` and `npm run review-tests` for a specific test plan.

#### `npm run validate`
Run to confirm that the test plans currently drafted within the project have no validation errors.

#### `npm run validate <test_plan_module>`
Run to confirm that a specific test plan currently drafted within the project has no validation errors.

#### `npm run cleanup`
Removes the `/build` folder from the project. **Note. Will be regenerated by the GitHub Action, or you can run `npm run build` to do so manually.**

#### `npm run update-reference`
It will copy the latest example html from the aria-practices repo into the project.

### Viewing review pages

1. Run `npm run build` or `npm run build <test_plan_module>`.
1. Open `/build/index.html`.
1. **NOTE: You may revert your local changes, or remove the build folder altogether before pushing if that's preferred. The GitHub Action will regenerate it regardless.**

### Project Structure
```bash
├── .github
├── build
│   ├── review - generated review pages
│   ├── tests - generated tests
│   ├── index.html - entry point for review pages
├── scripts - stores the scripts used for running the project
├── tests - a collection of test plan contributions. Tests and review pages are generated from the test plans written here
│   ├── test_plan_module (eg. checkbox)
│   ├── resources - various utilities useful for generating and interacting with the generated tests and review pages
│   ├── support.json
├── .gitattributes
├── w3c.json
```
